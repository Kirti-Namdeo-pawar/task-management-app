<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pomodoro Timer</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <style>
        body {
            background-image: url('/images/stunning\ clock.jpg');
            background-size:auto;
            background-position: center;
            color: #ffffff;
            text-align: center;
            font-family: 'Arial', sans-serif;
        }
        .container {
            margin-top: 80px;
        }
        .timer-box {
            background: rgba(0, 51, 102, 0.8);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 3px 3px 15px rgba(0, 0, 0, 0.3);
        }
        .timer {
            font-size: 60px;
            font-weight: bold;
        }
        .mode-buttons button {
            background: none;
            border: 2px solid white;
            color: white;
            font-size: 18px;
            margin: 10px;
            padding: 8px 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: 0.3s;
        }
        .mode-buttons button.active {
            background: #ffd700;
            color: #003366;
            font-weight: bold;
        }
        .control-buttons button {
            margin: 10px;
            font-size: 18px;
        }
        .counter {
            margin-top: 20px;
            font-size: 20px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="timer-box">
            <div class="mode-buttons">
                <button id="pomodoroMode" class="active">Pomodoro</button>
                <button id="shortBreakMode">Short Break</button>
                <button id="longBreakMode">Long Break</button>
            </div>
            <div class="timer" id="timerDisplay">25:00</div>
            <div class="control-buttons">
                <button class="btn btn-light" id="startTimer">Start</button>
                <button class="btn btn-warning" id="pauseTimer">Pause</button>
                <button class="btn btn-danger" id="resetTimer">Reset</button>
            </div>
            <p class="counter">Pomodoro Completed Today: <span id="pomodoroCount">0</span></p>
        </div>
    </div>

    <audio id="alarmSound" src="https://www.soundjay.com/button/beep-07.wav"></audio>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            let timerInterval;
            let timeLeft = 25 * 60;
            let isRunning = false;
            let currentMode = "pomodoro";
            const timerDisplay = document.getElementById('timerDisplay');
            const startTimer = document.getElementById('startTimer');
            const pauseTimer = document.getElementById('pauseTimer');
            const resetTimer = document.getElementById('resetTimer');
            const pomodoroCountDisplay = document.getElementById('pomodoroCount');
            const alarmSound = document.getElementById('alarmSound');
            const pomodoroMode = document.getElementById('pomodoroMode');
            const shortBreakMode = document.getElementById('shortBreakMode');
            const longBreakMode = document.getElementById('longBreakMode');

            let pomodoroCount = localStorage.getItem('pomodoroCount') ? parseInt(localStorage.getItem('pomodoroCount')) : 0;
            pomodoroCountDisplay.textContent = pomodoroCount;

            function updateDisplay() {
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                timerDisplay.textContent = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
            }

            function startCountdown() {
                if (!isRunning) {
                    timerInterval = setInterval(() => {
                        if (timeLeft > 0) {
                            timeLeft--;
                            updateDisplay();
                        } else {
                            clearInterval(timerInterval);
                            alarmSound.play();
                            alert("Time's up! Take a break.");
                            if (currentMode === "pomodoro") {
                                pomodoroCount++;
                                pomodoroCountDisplay.textContent = pomodoroCount;
                                localStorage.setItem('pomodoroCount', pomodoroCount);
                            }
                        }
                    }, 1000);
                    isRunning = true;
                }
            }

            function pauseCountdown() {
                clearInterval(timerInterval);
                isRunning = false;
            }

            function resetCountdown() {
                clearInterval(timerInterval);
                if (currentMode === "pomodoro") timeLeft = 25 * 60;
                if (currentMode === "shortBreak") timeLeft = 5 * 60;
                if (currentMode === "longBreak") timeLeft = 15 * 60;
                updateDisplay();
                isRunning = false;
            }

            function switchMode(mode) {
                clearInterval(timerInterval);
                isRunning = false;
                if (mode === "pomodoro") timeLeft = 25 * 60;
                if (mode === "shortBreak") timeLeft = 5 * 60;
                if (mode === "longBreak") timeLeft = 15 * 60;
                updateDisplay();
                currentMode = mode;
                pomodoroMode.classList.remove("active");
                shortBreakMode.classList.remove("active");
                longBreakMode.classList.remove("active");
                if (mode === "pomodoro") pomodoroMode.classList.add("active");
                if (mode === "shortBreak") shortBreakMode.classList.add("active");
                if (mode === "longBreak") longBreakMode.classList.add("active");
            }

            startTimer.addEventListener('click', startCountdown);
            pauseTimer.addEventListener('click', pauseCountdown);
            resetTimer.addEventListener('click', resetCountdown);
            pomodoroMode.addEventListener('click', () => switchMode("pomodoro"));
            shortBreakMode.addEventListener('click', () => switchMode("shortBreak"));
            longBreakMode.addEventListener('click', () => switchMode("longBreak"));
            updateDisplay();
        });
    </script>
</body>
</html>
